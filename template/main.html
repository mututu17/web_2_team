<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merge Test</title>
    <link rel="stylesheet" href="../css/test.css">
    <script src="../js/jquery-1.9.1.js"></script>
    <!--USERID 바꾸기!!-->
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=USERID&submodules=drawing"></script>
</head>
<body>
    <header>
        <!--헤더 반응형으로 만들기-->
        <!--반응형만 성공, 다른 세부적인 콤보박스와 로고에 들어가는 이름 부분 밑줄 삭제, 위치 수정 필요-->
        <!--로고 이미지는 임시. 다만 공용 로고 이미지 사용 사이트가 있는 것 같음. 활용 가능성 고려.-->
        <nav class="navbar_main">
                <div className="navbar_logo">
                    <nav id="buttonbar">
                        <ul>
                            <li id="logo"><a href="javascript:void(0)" onclick="window.location.reload()"><img src="../images/logo.png" alt="로고" width="100" height="100">이름</a></li>
                        </ul>
                    </nav>
                </div>
                <div className="navbar_links">
                    <nav id="buttonbar">
                        <ul>
                            <li>
                                <select id="거리순" class="combo-box">
                                    <option value="" disabled selected>거리순</option>
                                    <option value="0 ~ 3 km">0 ~ 3 km</option>
                                    <option value="3 ~ 6 km">3 ~ 6 km</option>
                                    <option value="6 ~ ... km">6 ~ ... km</option>
                                </select>
                            </li>
                            <li>
                                <select id="목적지" class="combo-box">
                                    <option value="" disabled selected>목적지 선택</option>
                                    <option value="광안리">광안리</option>
                                    <option value="해운대">해운대</option>
                                    <option value="송정">송정</option>
                                    <option value="부경대">부경대</option>
                                </select>
                            </li>
                            <li>
                                <select id="풍경" class="combo-box">
                                    <option value="" disabled selected>풍경</option>
                                    <option value="산">산</option>
                                    <option value="바다">바다</option>
                                    <option value="도심">도심</option>
                                </select>
                            </li>
                        </ul>
                    </nav>
                </div>
            </nav>
        </nav>

            <!--모바일 메뉴-->
        <div class="wrapper">
            <div class="container">
                <div class="head">
                    <div class="slide-open" id="slide-open">
                        <span class="burgur" id="burgur">
                            <span class="top-line"></span>
                            <span class="bot-line"></span>
                        </span>
                    </div>
                </div>
                <div class="body">
                    <div class="content_mobile">
                        컨텐츠
                    </div>
                    <div class="slide" id="slide">
                        <div class="slide-title">
                            슬라이드
                        </div>
                        <ul>
                            <li>슬라이드 메뉴</li>
                            <li>슬라이드 메뉴</li>
                            <li>슬라이드 메뉴</li>
                            <li>슬라이드 메뉴</li>
                            <li>슬라이드 메뉴</li>
                            <li>슬라이드 메뉴</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>
       <!-- <div class="output">
            <span id = "거리순-span">거리순</span>
            <span id = "목적지-span">목적지</span>
            <span id = "풍경-span">풍경</span>
        </div>-->
    </header>
    <!--===============================================================================================지도 시작==========================================================================================-->
    <div class="content">
        <main>
            <!-- 지도를 만드는 div 생성 -->
            <div id="map-container">
                <div id="map">
                </div>
            </div>
         

            <!--수영강 좌표-->
            <script id="polyline-data">
            var polylinePath = [
                new naver.maps.LatLng(35.16651994428058, 129.12492786885343),
                new naver.maps.LatLng(35.170958777178, 129.12222329082113),
                new naver.maps.LatLng(35.17286388547741, 129.12105910401624),
                new naver.maps.LatLng(35.17550898903027, 129.1187139152225),
                new naver.maps.LatLng(35.17670557434158, 129.11821321560998),
                new naver.maps.LatLng(35.17712651056232, 129.11809788062234),
                new naver.maps.LatLng(35.18097447459887, 129.11777658205753),
                new naver.maps.LatLng(35.18111488274443 , 129.11778127820347),
                new naver.maps.LatLng(35.18587322019679 , 129.1159275694985),
                new naver.maps.LatLng(35.186399216133054 , 129.1156229891022),
                new naver.maps.LatLng(35.18950866433023 , 129.1147162550351),
                new naver.maps.LatLng(35.19373472193521 , 129.11376761884807),
                new naver.maps.LatLng(35.1941721957518 , 129.11375580772264),
                new naver.maps.LatLng(35.19537559910043 , 129.11398294312045),
                new naver.maps.LatLng(35.195628007480146 , 129.11393625741638),
                new naver.maps.LatLng(35.19695364934315 , 129.11428635081145),
                //new naver.maps.LatLng(35.19537559910043 , 129.11398294312045),
                //new naver.maps.LatLng(35.19537559910043 , 129.11398294312045),
                //new naver.maps.LatLng(35.19537559910043 , 129.11398294312045),
                //new naver.maps.LatLng(35.19537559910043 , 129.11398294312045),
                //new naver.maps.LatLng(35.19537559910043 , 129.11398294312045),
                //new naver.maps.LatLng(35.19537559910043 , 129.11398294312045),
            ];
            </script>

            <!-- 지도 내부 조작을 위한 스크립트 -->
            <script id="code">

                var map = new naver.maps.Map('map', {
                    center: new naver.maps.LatLng(35.18097447459887, 129.11777658205753),
                });

                var bicycleLayer = new naver.maps.BicycleLayer();

                var polyline = new naver.maps.Polyline({
                    path: polylinePath,
                    strokeColor: '#00CA00',
                    strokeOpacity: 0.8,
                    strokeWeight: 6,
                    zIndex: 2,
                    clickable: true,
                    map: map
                });

                // 변경점!
                naver.maps.onJSContentLoaded = function() {
                    var drawingManager = new naver.maps.drawing.DrawingManager({map: map});
                };

                // btn이 id=bicycle 인 DOM 객체를 나타냄
                var btn = $('#bicycle');

                /*이벤트 리스너 등록*/
                /*naver.maps.Event.addListener(이벤트 적용될 대상=map, 이벤트 이름='bicycleLayer_changed', 이벤트 리스너=function(bicycleLayer)*/
                naver.maps.Event.addListener(map, 'bicycleLayer_changed', function(bicycleLayer) {
                    if (bicycleLayer) {
                        btn.addClass('control-on');
                    } else {
                        btn.removeClass('control-on');
                    }
                });

                btn.on("click", function(e) {
                    e.preventDefault();

                    // 레이어가 있다면
                    if (bicycleLayer.getMap()) {
                        bicycleLayer.setMap(null);  // 삭제
                    }
                    // 없다면
                    else {
                        bicycleLayer.setMap(map);   // 추가
                    }
                });

                /*폴리라인에 대한 이벤트 함수*/
                naver.maps.Event.addListener(polyline, "mouseover", function () {
                    polyline.setOptions({
                        strokeWeight: 20
                    });
                });

                naver.maps.Event.addListener(polyline, "mouseout", function () {
                    polyline.setOptions({
                        strokeWeight: 6
                    });
                });

                naver.maps.Event.addListener(polyline, "mousedown", function () {
                    polyline.setOptions({
                        strokeWeight: 20
                    });
                });
            
                naver.maps.Event.addListener(polyline, "mouseup", function () {
                    polyline.setOptions({
                        strokeWeight: 6
                    });
                });

                naver.maps.Event.addListener(polyline, "click", function () {
                    alert('수영강 코스입니다.');
                });
            
                // 시작하면 한번 하는 함수
                naver.maps.Event.once(map, 'init', function() {
                    bicycleLayer.setMap(map);
                });
            </script>

        </main>
        
    <!--=======================================================================================지도 끝========================================================================================================-->

        <aside class="sidebar" id="sidebar">
            <button class="toggle" onclick="toggleNav()">닫기</button>
            <p id="selected-option">목적지</p>
            <a href="#" id="link" target="_blank"><img src="#" id="image" width="180", height="180"></a>
            <p>참고자료</p>
            <a href="#" id="linkT" target="_blank">링크</a>
        </aside>
    </div>
    <script src="../js/scripts.js"></script>
</body>
</html>